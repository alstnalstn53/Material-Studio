<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aletheia</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/EffectComposer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/RenderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/ShaderPass.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/CopyShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/LuminosityHighPassShader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/UnrealBloomPass.js"></script>

    <style>
        /* =========================================
           CORE SETTINGS
           ========================================= */
        :root { 
            --bg: #ffffff; 
            --text: #111111; 
            --sub: #555; 
            --line: #e0e0e0;
            --nav-bg: rgba(255, 255, 255, 0.1); 
            --font-main: "Helvetica Neue", "Arial", sans-serif;
            --font-mono: "Courier New", Courier, monospace; 
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none !important; }
        
        body { 
            background: var(--bg); color: var(--text); 
            font-family: var(--font-main);
            line-height: 1.5; overflow-x: hidden;
        }

        /* 필름 노이즈 */
        body::after {
            content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none; z-index: 9000; opacity: 0.05;
        }

        /* 커서 */
        .cursor-dot { width: 4px; height: 4px; background: #000; border-radius: 50%; position: fixed; pointer-events: none; z-index: 9999; transition: transform 0.1s; }
        .cursor-ring { 
            width: 50px; height: 50px; border: 1px solid rgba(0,0,0,0.1); border-radius: 50%; position: fixed; pointer-events: none; z-index: 9999; 
            transition: transform 0.2s ease-out; transform: translate(-50%, -50%);
            backdrop-filter: blur(3px); background: rgba(255,255,255,0.05);
        }
        body.hovered .cursor-ring { transform: translate(-50%, -50%) scale(1.3); background: rgba(255,255,255,0.1); border-color: rgba(0,0,0,0.2); backdrop-filter: blur(0); }

        .container { max-width: 1520px; margin: 0 auto; padding: 0 40px; }

        /* =========================================
           VIEW TOGGLE BUTTON (새로 추가)
           ========================================= */
        .view-toggle-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 2001;
            background: #000;
            color: #fff;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .view-toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(0,0,0,0.3);
        }
        
        .view-toggle-btn svg {
            width: 16px;
            height: 16px;
            fill: none;
            stroke: #fff;
            stroke-width: 2;
        }

        /* =========================================
           NAVIGATION
           ========================================= */
        nav { 
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            width: 98%; max-width: 1580px; height: 75px;
            display: flex; justify-content: space-between; align-items: center; 
            padding: 0 40px; z-index: 2000;
            background: var(--nav-bg);
            border: 1px solid rgba(255,255,255,0.15); border-radius: 6px;
            backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.02);
        }
        .logo { font-size: 19px; font-weight: 300; letter-spacing: -0.01em; cursor: pointer; display: flex; align-items: center; gap: 10px; color: #000; }
        .logo svg { width: 26px; height: 26px; fill: none; stroke: #000; stroke-width: 1.5; }
        .nav-right { display: flex; align-items: center; gap: 40px; }
        .nav-links { display: flex; gap: 40px; list-style: none; font-size: 14px; font-weight: 400; }
        .nav-links li { color: #555; transition: 0.2s; cursor: pointer; }
        .nav-links li:hover { color: #000; }
        .lang-btn { font-size: 12px; font-weight: 500; cursor: pointer; border: 1px solid #ccc; padding: 6px 16px; border-radius: 4px; background: transparent; transition: 0.2s; }
        .lang-btn:hover { border-color: #000; background: #fff; }

        /* =========================================
           HERO & SECTIONS
           ========================================= */
        section { padding: 180px 0; border-bottom: 1px solid var(--line); position: relative; }
        .reveal { opacity: 0; filter: blur(15px); transform: translateY(30px); transition: all 1.8s cubic-bezier(0.19, 1, 0.22, 1); }
        .reveal.active { opacity: 1; filter: blur(0); transform: translateY(0); }
        .typing-target { opacity: 0; } .typing-active { opacity: 1; }

        .hero-top { height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; border-bottom: 1px solid var(--line); position: relative; overflow: hidden; z-index: 1; }
        #canvas-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; }
        
        .def-wrapper { 
            position: relative; 
            z-index: 10; 
            pointer-events: none; 
            text-align: center;
            transform: translate(0, 60px); 
        }
        .def-small { 
            font-size: 20px; 
            font-weight: 600; 
            letter-spacing: 0.05em; 
            margin-bottom: 240px; 
            position: relative;
            top: 100px;
            opacity: 0; 
            filter: blur(10px); 
            transition: 2s ease; 
            display: block; 
            color: #000; 
        }
        .def-large { font-size: clamp(100px, 10vw, 200px); font-weight: 580; letter-spacing: -0.03em; line-height: 1; opacity: 0; filter: blur(20px); transform: scale(0.95); transition: 2.5s ease; color: #000; }
        .visible { opacity: 0.85 !important; filter: blur(0) !important; transform: scale(1) !important; }
        .floating { animation: float 6s ease-in-out infinite; opacity: 0.85 !important; filter: blur(0) !important; transform: scale(1) !important; }
        @keyframes float { 0% { transform: translateY(0); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0); } }

        .hero-sub { padding: 140px 0; min-height: 50vh; display: flex; align-items: center; }
        .hero-title { font-size: clamp(40px, 4vw, 80px); font-weight: 300; line-height: 1.2; letter-spacing: 0.05em; color: #111; }
        .label { font-size: 42px; font-weight: 500; letter-spacing: -0.02em; color: #000; margin-bottom: 80px; display: block; font-family: "Helvetica Neue", Arial, sans-serif; min-height: 1.2em; }
        .phi-text { font-size: 28px; font-weight: 300; line-height: 1.5; max-width: 900px; margin-bottom: 40px; color: #222; }
        .phi-desc { font-size: 16px; color: var(--sub); line-height: 1.7; max-width: 750px; font-weight: 300; }

        /* =========================================
           METHOD
           ========================================= */
        .method-list { display: flex; flex-direction: column; width: 100%; }
        .method-row { display: flex; justify-content: space-between; align-items: flex-start; padding: 80px 0; border-bottom: 1px solid #eee; position: relative; transition: 0.3s; }
        .method-row:last-child { border-bottom: none; }
        .method-left { width: 30%; display: flex; flex-direction: column; padding-top: 10px; }
        .m-num { font-size: 12px; font-weight: 600; color: #999; margin-bottom: 20px; letter-spacing: 0.05em; }
        .m-desc { font-size: 15px; line-height: 1.6; color: #444; margin-bottom: 30px; font-weight: 300; word-break: keep-all; }
        .m-btn { padding: 10px 24px; font-size: 12px; font-weight: 600; border: 1px solid #ccc; background: transparent; color: #000; border-radius: 50px; width: fit-content; cursor: pointer; transition: all 0.3s ease; }
        .m-btn:hover { border-color: #000; background: #000; color: #fff; transform: translateY(-2px); }
        .method-right { width: 65%; text-align: right; user-select: none; }
        .big-typo { display: flex; justify-content: flex-end; gap: 5px; font-size: clamp(50px, 8vw, 120px); font-weight: 300; line-height: 0.9; color: #000; letter-spacing: -0.02em; cursor: default; }
        .char { display: inline-block; transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); will-change: transform; }

        /* =========================================
           ARCHIVES
           ========================================= */
        .archive-section-wrapper { overflow: hidden; width: 100%; }
        .archive-track { display: flex; gap: 30px; width: max-content; animation: scroll 60s linear infinite; }
        .archive-track:hover { animation-play-state: paused; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(calc(-320px * 10 - 300px)); } }
        .archive-card { min-width: 320px; height: 540px; background-color: #fafafa; background-image: radial-gradient(rgba(0,0,0,0.03) 0.8px, transparent 0.8px); background-size: 8px 8px; padding: 35px; display: flex; flex-direction: column; transition: transform 0.5s, box-shadow 0.5s; position: relative; }
        .archive-card:hover { transform: translateY(-15px); box-shadow: 0 30px 60px rgba(0,0,0,0.05); background-color: #fff; }
        .arc-cat-box { display: inline-block; padding: 5px 10px; border: 1px solid #000; font-size: 10px; font-weight: 700; text-transform: uppercase; margin-bottom: 30px; background: rgba(255,255,255,0.95); width: fit-content; z-index: 5; }
        .arc-content-area { position: relative; flex-grow: 1; display: flex; flex-direction: column; }
        .glass-shield { position: absolute; top: -10px; left: -10px; right: -10px; bottom: -10px; background: rgba(255, 255, 255, 0.4); backdrop-filter: blur(8px); border-radius: 4px; z-index: 4; transition: all 0.6s ease; border: 1px solid rgba(255,255,255,0.5); }
        .archive-card:hover .glass-shield { opacity: 0; transform: scale(1.05); pointer-events: none; }
        .arc-project { font-size: 30px; font-weight: 300; margin-bottom: 8px; }
        .arc-sub { font-size: 14px; font-weight: 400; color: #555; margin-bottom: 25px; }
        .arc-desc { font-size: 13px; color: #666; line-height: 1.6; margin-top: auto; word-break: keep-all; }

        /* =========================================
           [UI] UNIFIED MODAL SYSTEM (WINDOW STYLE)
           ========================================= */
        .process-overlay { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            z-index: 3000; overflow: hidden;
            background: rgba(245, 245, 245, 0.6); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            opacity: 0; transition: opacity 0.5s ease;
        }
        .process-overlay.show { opacity: 1; }

        .sb-frame { 
            width: 90%; height: 85%; 
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); 
            background: #fff; border-radius: 8px; 
            box-shadow: 0 50px 100px rgba(0,0,0,0.15); 
            display: flex; flex-direction: column; overflow: hidden; border: 1px solid #ddd; 
        }

        .sb-bezel { 
            width: 100%; height: 45px; background: #f0f0f0; border-bottom: 1px solid #ddd; 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 0 20px; font-size: 11px; font-weight: 700; color: #888; letter-spacing: 0.1em; 
        }
        .btn-close { cursor: pointer; transition: 0.2s; font-size: 14px; padding: 5px; }
        .btn-close:hover { color: #000; }

        .sb-body { display: flex; flex-grow: 1; height: 100%; position: relative; }

        /* [MODE A] STANDARD CANVAS */
        .sb-sidebar { width: 280px; background: #fafafa; border-right: 1px solid #eee; padding: 30px; display: flex; flex-direction: column; z-index: 50; overflow-y: auto; }
        .sb-canvas-wrapper { flex-grow: 1; background: #fff; position: relative; overflow: hidden; cursor: grab; background-image: linear-gradient(#f0f0f0 1px, transparent 1px), linear-gradient(90deg, #f0f0f0 1px, transparent 1px); background-size: 40px 40px; }
        .sb-canvas { width: 100%; height: 100%; position: absolute; top: 0; left: 0; transform-origin: 50% 50%; }
        .word-chip { position: absolute; padding: 10px 20px; background: #fff; border: 1px solid #000; border-radius: 50px; font-size: 13px; cursor: grab; user-select: none; z-index: 10; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .core-node { width: 8px; height: 8px; background: #000; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); }
        .core-label { position: absolute; top: 50%; left: 50%; transform: translate(-50%, 15px); font-size: 11px; font-weight: 700; }

        /* [MODE B] INTERPRET ANALYSIS UI */
        .interpret-view { display: none; width: 100%; height: 100%; display: flex; }
        
        .col-essence { width: 35%; border-right: 1px solid #e0e0e0; padding: 50px 40px; display: flex; flex-direction: column; justify-content: space-between; overflow-y: auto; }
        .brand-meta { font-family: var(--font-mono); font-size: 11px; color: #888; margin-bottom: 40px; line-height: 1.8; }
        .essence-text { font-size: 20px; font-weight: 300; line-height: 1.6; color: #111; word-break: keep-all; }
        .essence-highlight { color: #000; font-weight: 500; border-bottom: 1px solid #000; padding-bottom: 2px; }
        .core-question { margin-top: 60px; font-size: 14px; color: #444; font-style: italic; border-left: 2px solid #000; padding-left: 20px; line-height: 1.5; }

        .col-possibility { width: 65%; padding: 50px 40px; background: #fafafa; overflow-y: auto; position: relative; }
        .section-label { font-family: var(--font-mono); font-size: 11px; border-bottom: 1px solid #ccc; padding-bottom: 10px; margin-bottom: 30px; display: block; color: #000; letter-spacing: 0.1em; }
        
        .options-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; padding-bottom: 80px; }
        
        .opt-card {
            background: #fff; border: 1px solid #e0e0e0; padding: 25px;
            transition: all 0.3s ease; cursor: pointer; position: relative;
            display: flex; flex-direction: column; height: 300px;
        }
        .opt-card:hover { border-color: #000; box-shadow: 0 10px 20px rgba(0,0,0,0.05); transform: translateY(-5px); z-index: 2; }
        
        .opt-card.selected { background: #000; color: #fff; border-color: #000; }
        .opt-card.selected .opt-type { color: #888; }
        .opt-card.selected .opt-desc { color: #ccc; }
        .opt-card.selected .opt-id { color: #555; }

        .opt-id { font-family: var(--font-mono); font-size: 10px; color: #999; margin-bottom: 15px; }
        .opt-name { font-size: 20px; font-weight: 400; margin-bottom: 5px; line-height: 1.2; }
        .opt-type { font-size: 11px; color: #666; margin-bottom: 25px; font-style: italic; }
        .opt-desc { font-size: 13px; line-height: 1.6; color: #444; font-weight: 300; }
        
        .opt-check { 
            margin-top: auto; width: 24px; height: 24px; border: 1px solid #ccc; border-radius: 50%; align-self: flex-end; 
            display: flex; align-items: center; justify-content: center; opacity: 0.3; transition: 0.3s;
        }
        .opt-card:hover .opt-check { opacity: 1; }
        .opt-card.selected .opt-check { border-color: #fff; opacity: 1; background: #fff; }
        .opt-card.selected .opt-check::after { content: ""; width: 8px; height: 8px; background: #000; border-radius: 50%; }

        .btn-next-step {
            position: absolute; bottom: 30px; right: 40px;
            background: #000; color: #fff; padding: 12px 30px; font-size: 12px; font-weight: 600;
            border-radius: 50px; cursor: pointer; transition: all 0.3s;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            opacity: 0; pointer-events: none; transform: translateY(20px);
        }
        .btn-next-step.active { opacity: 1; pointer-events: all; transform: translateY(0); }
        .btn-next-step:hover { transform: scale(1.05); }

        /* [MODE C] DESIGN DIRECTION VIEW */
        .design-view { display: none; width: 100%; height: 100%; display: flex; }
        .d-left { width: 40%; padding: 50px 40px; display: flex; flex-direction: column; }
        .d-right { width: 60%; padding: 50px 40px; background: #fafafa; overflow-y: auto; }
        .d-label { font-family: var(--font-mono); font-size: 10px; color: #888; margin-bottom: 20px; display: block; letter-spacing: 0.1em; }
        .d-title { font-size: 36px; font-weight: 400; line-height: 1.2; margin-bottom: 20px; }
        .d-tags-wrap { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 50px; }
        .d-tag { border: 1px solid #ddd; padding: 5px 12px; font-size: 11px; border-radius: 20px; color: #555; }
        
        .spec-list { margin-top: 0; }
        .spec-item { display: flex; justify-content: space-between; border-bottom: 1px solid #eee; padding: 15px 0; font-size: 13px; }
        .spec-key { font-weight: 600; color: #000; }
        .spec-val { font-weight: 300; color: #555; text-align: right; }
        
        .ai-message { 
            margin-top: auto; font-family: var(--font-mono); font-size: 11px; color: #888; 
            border-top: 1px dashed #ccc; padding-top: 20px; line-height: 1.6; 
        }

        .cat-title { font-size: 10px; font-weight: 700; margin-bottom: 10px; display: block; border-bottom: 1px solid #000; padding-bottom: 5px; width: fit-content; margin-top: 25px; }
        .ex-btn { font-size: 11px; background: #fff; border: 1px solid #ddd; padding: 5px 10px; margin: 0 4px 6px 0; cursor: pointer; color: #666; }
        .btn-analyze { width: 100%; margin-top: auto; background: #000; color: #fff; padding: 12px; font-size: 12px; cursor: pointer; border: none; border-radius: 4px; }
        
        footer { padding: 60px 0; font-size: 12px; color: var(--sub); display: flex; justify-content: space-between; border-top: 1px solid var(--line); margin-top: 100px; }
        
        /* =========================================
           모바일 뷰 모드 (새로 추가)
           ========================================= */
        body.mobile-view * { cursor: auto !important; }
        body.mobile-view .cursor-dot,
        body.mobile-view .cursor-ring { display: none !important; }
        
        body.mobile-view .container { padding: 0 20px; }
        
        body.mobile-view nav { 
            top: 10px; 
            width: 95%; 
            height: 60px; 
            padding: 0 20px; 
        }
        body.mobile-view .logo { font-size: 16px; }
        body.mobile-view .logo svg { width: 22px; height: 22px; }
        body.mobile-view .nav-right { gap: 15px; }
        body.mobile-view .nav-links { display: none; }
        body.mobile-view .lang-btn { font-size: 11px; padding: 5px 12px; }
        
        body.mobile-view section { padding: 100px 0; }
        
        body.mobile-view .def-wrapper { transform: translate(0, 30px); }
        body.mobile-view .def-small { font-size: 14px; margin-bottom: 150px; top: 60px; }
        
        body.mobile-view .hero-sub { padding: 80px 0; min-height: auto; }
        body.mobile-view .label { margin-bottom: 40px; }
        body.mobile-view .phi-text { margin-bottom: 25px; }
        
        body.mobile-view .method-row { 
            flex-direction: column; 
            padding: 50px 0; 
            gap: 30px; 
        }
        body.mobile-view .method-left { width: 100%; padding-top: 0; }
        body.mobile-view .m-desc { margin-bottom: 20px; }
        body.mobile-view .method-right { width: 100%; text-align: left; }
        body.mobile-view .big-typo { justify-content: flex-start; }
        
        body.mobile-view .archive-track { gap: 20px; }
        body.mobile-view .archive-card { min-width: 240px; height: 420px; padding: 25px; }
        body.mobile-view .arc-project { font-size: 24px; }
        body.mobile-view .arc-sub { font-size: 12px; }
        body.mobile-view .arc-desc { font-size: 12px; }
        
        body.mobile-view .sb-frame { width: 95%; height: 90%; }
        body.mobile-view .sb-bezel { height: 40px; padding: 0 15px; font-size: 10px; }
        body.mobile-view .sb-sidebar { display: none; }
        
        body.mobile-view .interpret-view { flex-direction: column; }
        body.mobile-view .col-essence { width: 100%; border-right: none; border-bottom: 1px solid #e0e0e0; padding: 30px 20px; }
        body.mobile-view .brand-meta { font-size: 10px; margin-bottom: 20px; }
        body.mobile-view .essence-text { font-size: 16px; }
        body.mobile-view .core-question { margin-top: 30px; font-size: 12px; }
        
        body.mobile-view .col-possibility { width: 100%; padding: 30px 20px; }
        body.mobile-view .section-label { font-size: 10px; }
        body.mobile-view .options-grid { grid-template-columns: 1fr; gap: 15px; padding-bottom: 80px; }
        body.mobile-view .opt-card { height: auto; min-height: 250px; padding: 20px; }
        body.mobile-view .opt-name { font-size: 18px; }
        
        body.mobile-view .btn-next-step { bottom: 20px; right: 20px; }
        
        body.mobile-view .design-view { flex-direction: column; }
        body.mobile-view .d-left { width: 100%; padding: 30px 20px; }
        body.mobile-view .d-right { width: 100%; padding: 30px 20px; }
        body.mobile-view .d-title { font-size: 28px; }
        
        body.mobile-view footer { flex-direction: column; gap: 10px; padding: 40px 0; font-size: 11px; }
    </style>
</head>
<body>
    <div class="cursor-dot"></div>
    <div class="cursor-ring"></div>

    <!-- View Toggle Button -->
    <button class="view-toggle-btn" id="viewToggle" onclick="toggleView()">
        <svg viewBox="0 0 24 24">
            <rect x="3" y="3" width="7" height="7" rx="1"/>
            <rect x="14" y="3" width="7" height="7" rx="1"/>
            <rect x="3" y="14" width="7" height="7" rx="1"/>
            <rect x="14" y="14" width="7" height="7" rx="1"/>
        </svg>
        <span id="viewText">Mobile View</span>
    </button>

    <nav>
        <div class="logo" onclick="location.reload()">
            <svg viewBox="0 0 24 24"><path d="M 5 19 A 10 10 0 1 1 19 19" fill="none" stroke-linecap="round" /><circle cx="12" cy="12" r="2.5" fill="#000" stroke="none" /></svg>
            Aletheia
        </div>
        <div class="nav-right">
            <ul class="nav-links">
                <li onclick="scrollToId('philosophy')">PHILOSOPHY</li>
                <li onclick="scrollToId('method')">METHOD</li>
                <li onclick="scrollToId('archive')">ARCHIVE</li>
            </ul>
            <button class="lang-btn" id="langBtn" onclick="toggleLanguage()">KO</button>
        </div>
    </nav>

    <div id="mainPage">
        <div class="hero-top reveal active">
            <div id="canvas-container"></div>
            <div class="def-wrapper">
                <span class="def-small" id="defSmall">정의</span>
                <div class="def-large" id="defLarge">DEFINITION</div>
            </div>
        </div>

        <div class="container">
            <section class="hero-sub">
                <h1 class="hero-title reveal">What defines<br>your essence?</h1>
            </section>

            <section id="philosophy">
                <span class="label typing-target" data-text="Philosophy of Aletheia"></span>
                <p class="phi-text reveal">단순한 '무엇'을 만드는 것이 아닙니다.<br>우리는 '왜', '누구를 위해', '어떻게'를 질문합니다.</p>
                <p class="phi-desc reveal">브랜드의 핵심 본질을 찾고, 불필요한 장식을 걷어내고, 사람들이 진정 필요로 하는 경험의 원형을 디자인합니다. 감각적 작업, 논리적 분석, 공감 기반의 협업으로 결과를 완성합니다.</p>
            </section>

            <section id="method">
                <span class="label typing-target" data-text="Our Method"></span>
                <div class="method-list">
                    <div class="method-row reveal">
                        <div class="method-left">
                            <div class="m-num">STEP 01</div>
                            <div class="m-desc">브랜드의 진짜 이야기를 찾습니다. 현상 너머의 본질, 기억 속 핵심 감각, 관계의 근원을 탐구합니다.</div>
                            <button class="m-btn" onclick="openBoard('standard')">Details</button>
                        </div>
                        <div class="method-right"><div class="big-typo">INTERPRET</div></div>
                    </div>
                    <div class="method-row reveal">
                        <div class="method-left">
                            <div class="m-num">STEP 02</div>
                            <div class="m-desc">발견한 본질을 구체적인 형태로 전환합니다. 타겟이 공감할 수 있는 물질과 경험의 언어로 번역합니다.</div>
                            <button class="m-btn" onclick="openBoard('interpret')">Case Study</button>
                        </div>
                        <div class="method-right"><div class="big-typo">TRANSLATE</div></div>
                    </div>
                    <div class="method-row reveal">
                        <div class="method-left">
                            <div class="m-num">STEP 03</div>
                            <div class="m-desc">고객과 함께 결과물을 개선하고 완성합니다. 일방적 제안이 아닌 공동 창작을 지향합니다.</div>
                            <button class="m-btn" onclick="alert('Co-creation Process')">Learn More</button>
                        </div>
                        <div class="method-right"><div class="big-typo">CO-SOLVE</div></div>
                    </div>
                </div>
            </section>

            <section id="archive">
                <span class="label typing-target" data-text="Selected Archives"></span>
                <div class="archive-section-wrapper reveal">
                    <div class="archive-track">
                        <div class="archive-card"><span class="arc-cat-box">Cafe & Bakery</span><div class="arc-content-area"><h3 class="arc-project">GYEOL</h3><div class="arc-sub">침묵의 서사</div><p class="arc-desc">불필요한 소음을 제거하고 재료 본연의 소리에 집중하는 베이커리.</p><div class="glass-shield"></div></div></div>
                        <div class="archive-card"><span class="arc-cat-box">Space Design</span><div class="arc-content-area"><h3 class="arc-project">RAW CONCRETE</h3><div class="arc-sub">가공되지 않은 날것</div><p class="arc-desc">마감이 덜 된듯한 거친 콘크리트 텍스처를 그대로 살려 진정성을 투영.</p><div class="glass-shield"></div></div></div>
                        <div class="archive-card"><span class="arc-cat-box">Fashion</span><div class="arc-content-area"><h3 class="arc-project">STRUCTURE 01</h3><div class="arc-sub">기능적 본질주의</div><p class="arc-desc">장식을 배제하고 옷의 구조와 기능에만 집중한 미니멀리즘 레이블.</p><div class="glass-shield"></div></div></div>
                        <div class="archive-card"><span class="arc-cat-box">Fragrance</span><div class="arc-content-area"><h3 class="arc-project">DEEP SOIL</h3><div class="arc-sub">고향의 흙냄새</div><p class="arc-desc">가장 원초적인 기억인 흙의 향기를 현대적으로 재해석하여 안정감을 주는 향.</p><div class="glass-shield"></div></div></div>
                        <div class="archive-card"><span class="arc-cat-box">Exhibition</span><div class="arc-content-area"><h3 class="arc-project">THE VOID</h3><div class="arc-sub">비움의 미학</div><p class="arc-desc">아무것도 전시하지 않음으로써 관람객 스스로를 전시품으로 만드는 공간.</p><div class="glass-shield"></div></div></div>
                        <div class="archive-card"><span class="arc-cat-box">Architecture</span><div class="arc-content-area"><h3 class="arc-project">MONOLITH</h3><div class="arc-sub">단일한 거대함</div><p class="arc-desc">이음새 없는 거대한 검은 돌덩어리 같은 건축물. 압도적인 숭고미.</p><div class="glass-shield"></div></div></div>
                    </div>
                </div>
            </section>

            <footer><div>© 2026 Aletheia</div><div>Less but Better</div></footer>
        </div>
    </div>

    <div id="boardPage" class="process-overlay">
        <div class="sb-frame">
            <div class="sb-bezel">
                <span class="board-title">STORY BOARD</span>
                <span class="btn-close" onclick="closeBoard()">✕</span>
            </div>
            
            <div class="sb-body">
                
                <div id="mode-standard" style="display:flex; width:100%; height:100%;">
                    <div class="sb-sidebar">
                        <div style="margin-bottom: 40px;">
                            <label style="font-size: 11px; font-weight: 700; margin-bottom: 10px; display: block;">ADD FRAGMENT</label>
                            <input type="text" id="wordInput" placeholder="Type & Enter..." style="width: 100%; border: none; border-bottom: 1px solid #ddd; padding: 10px 0; outline: none; font-size: 15px; background: transparent;">
                        </div>
                        <span class="cat-title">SENSES</span>
                        <div><button class="ex-btn" onclick="addChip('차가운 콘크리트')">차가운 콘크리트</button><button class="ex-btn" onclick="addChip('종이 냄새')">종이 냄새</button></div>
                        <span class="cat-title">SPACE</span>
                        <div><button class="ex-btn" onclick="addChip('새벽의 부엌')">새벽의 부엌</button><button class="ex-btn" onclick="addChip('텅 빈 미술관')">텅 빈 미술관</button></div>
                        <span class="cat-title">HABIT</span>
                        <div><button class="ex-btn" onclick="addChip('커피 내리기')">커피 내리기</button><button class="ex-btn" onclick="addChip('멍 때리기')">멍 때리기</button></div>
                        <button class="btn-analyze" onclick="alert('Analysis Function')">Analyze Essence</button>
                    </div>
                    <div class="sb-canvas-wrapper" id="canvasWrapper">
                        <div class="sb-canvas" id="canvas">
                            <div class="core-node"></div><div class="core-label">YOU</div>
                        </div>
                    </div>
                </div>

                <div id="mode-interpret" class="interpret-view" style="display:none;">
                    <div class="col-essence">
                        <div>
                            <div class="brand-meta">
                                TARGET: MONAMI<br>CORE ID: MON AMI (MY FRIEND)<br>STATUS: UBIQUITOUS TOOL
                            </div>
                            <div class="essence-text">
                                "Mon Ami, '나의 친구'.<br>
                                지난 50년, 모나미는 한국인의 일상 가장 가까운 곳에서 생각과 경험을 함께해왔습니다.<br><br>
                                누군가의 일기, 누군가의 공부, 누군가의 생계...<br>
                                모나미는 언제나 저렴하고 튼튼하며,<br>
                                무엇보다 <span class="essence-highlight">정직한 도구</span>였습니다.<br><br>
                                우리는 이 '순수한 본질'에 주목합니다.<br>
                                덧대지 않은 담백함, 그것이 모나미의 영혼입니다."
                            </div>
                        </div>
                        <div class="core-question">
                            CORE QUESTION:<br>
                            "하지만 친구가 꼭 '볼펜'의 형태여야 할까요?<br>
                            이 오랜 관계를 이어갈 새로운 물성을 제안합니다."
                        </div>
                    </div>
                    <div class="col-possibility">
                        <span class="section-label">GENERATED POSSIBILITY FIELDS (5)</span>
                        <div class="options-grid">
                            <div class="opt-card" onclick="selectCard(this, 'opt1')">
                                <div class="opt-id">CANDIDATE 01</div>
                                <h3 class="opt-name">Low-pressure<br>Record Tool</h3>
                                <div class="opt-type">기록의 부담을 줄이는 도구</div>
                                <p class="opt-desc">"잘 써야 한다"는 강박을 제거합니다. 하루 한 줄, 짧은 호흡으로만 기록할 수 있는 제한된 페이지의 툴.</p>
                                <div class="opt-check"></div>
                            </div>
                            <div class="opt-card" onclick="selectCard(this, 'opt2')">
                                <div class="opt-id">CANDIDATE 02</div>
                                <h3 class="opt-name">Non-writing<br>Memory Object</h3>
                                <div class="opt-type">쓰지 않아도 되는 기록</div>
                                <p class="opt-desc">기록 피로 시대의 역설. 잉크 없이 누르기만 하면 날짜가 찍히는, 흔적만 남기는 오브제.</p>
                                <div class="opt-check"></div>
                            </div>
                            <div class="opt-card" onclick="selectCard(this, 'opt3')">
                                <div class="opt-id">CANDIDATE 03</div>
                                <h3 class="opt-name">Shared<br>Writing Object</h3>
                                <div class="opt-type">세대 공유형 상품</div>
                                <p class="opt-desc">개인 소유의 개념을 제거하고, 한 가정이나 교실이 공용으로 사용하며 기억을 공유하는 도구.</p>
                                <div class="opt-check"></div>
                            </div>
                            <div class="opt-card" onclick="selectCard(this, 'opt4')">
                                <div class="opt-id">CANDIDATE 04</div>
                                <h3 class="opt-name">Presence<br>Object</h3>
                                <div class="opt-type">곁에 있음을 파는 물건</div>
                                <p class="opt-desc">기능은 없습니다. 책상 위에 묵묵히 존재하는 것만으로 위안을 주는 물성을 가진 덩어리.</p>
                                <div class="opt-check"></div>
                            </div>
                            <div class="opt-card" onclick="selectCard(this, 'opt5')">
                                <div class="opt-id">CANDIDATE 05</div>
                                <h3 class="opt-name">Pen,<br>But Re-defined</h3>
                                <div class="opt-type">재정의된 볼펜</div>
                                <p class="opt-desc">가장 보수적인 혁신. 기록량을 물리적으로 제한하거나, 시간이 지나면 지워지는 잉크.</p>
                                <div class="opt-check"></div>
                            </div>
                        </div>
                        <div class="btn-next-step" onclick="goToDesign()">NEXT STEP →</div>
                    </div>
                </div>

                <div id="mode-design" class="design-view" style="display:none;">
                    <div class="d-left">
                        <span class="d-label">SELECTED CONCEPT</span>
                        <h2 class="d-title" id="dTitle">Title</h2>
                        <div class="d-tags-wrap" id="dTags"></div>
                        <div class="ai-message">
                            ALETHEIA AI ENGINE:<br>
                            "This object transforms the abstraction of 'friendship' into tangible form.<br>
                            We focused on the texture of silence and the weight of existence."
                        </div>
                    </div>
                    <div class="d-right">
                        <span class="d-label">DESIGN DIRECTION SPECIFICATION</span>
                        <div class="spec-list">
                            <div class="spec-item"><span class="spec-key">Mood Keyword</span><span class="spec-val" id="dMood">Silence, Void</span></div>
                            <div class="spec-item"><span class="spec-key">Core Material</span><span class="spec-val" id="dMat">Uncoated Paper, Raw Wood</span></div>
                            <div class="spec-item"><span class="spec-key">Color Palette</span><span class="spec-val" id="dColor">#F5F5F0, #333333</span></div>
                            <div class="spec-item"><span class="spec-key">Form Factor</span><span class="spec-val" id="dForm">A6 Compact Size (105x148mm)</span></div>
                            <div class="spec-item"><span class="spec-key">Production Method</span><span class="spec-val" id="dMethod">Exposed Spine Binding (노출 제본)</span></div>
                        </div>
                        <button class="btn-analyze" style="margin-top:60px;" onclick="location.reload()">Back to Home</button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        // VIEW TOGGLE FUNCTION
        let isMobileView = false;
        function toggleView() {
            isMobileView = !isMobileView;
            const body = document.body;
            const viewText = document.getElementById('viewText');
            
            if (isMobileView) {
                body.classList.add('mobile-view');
                viewText.textContent = 'Desktop View';
            } else {
                body.classList.remove('mobile-view');
                viewText.textContent = 'Mobile View';
            }
        }

        // 1. CURSOR
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorRing = document.querySelector('.cursor-ring');
        document.addEventListener('mousemove', (e) => {
            cursorDot.style.left = e.clientX + 'px'; cursorDot.style.top = e.clientY + 'px';
            cursorRing.style.left = e.clientX + 'px'; cursorRing.style.top = e.clientY + 'px';
        });
        document.querySelectorAll('button, a, input, .archive-card, .logo, .method-item, .opt-card').forEach(el => {
            el.addEventListener('mouseenter', () => document.body.classList.add('hovered'));
            el.addEventListener('mouseleave', () => document.body.classList.remove('hovered'));
        });

        // 2. LOAD & ANIMATION
        window.onload = () => {
            setTimeout(() => { document.getElementById('defSmall').classList.add('visible'); }, 800);
            setTimeout(() => { document.getElementById('defLarge').classList.add('visible'); setTimeout(() => document.getElementById('defLarge').classList.add('floating'), 2500); }, 1800);
            document.querySelectorAll('.big-typo').forEach(el => {
                const text = el.innerText.trim(); el.innerHTML = '';
                text.split('').forEach((char, i) => {
                    const span = document.createElement('span'); span.innerText = char; span.className = 'char';
                    span.style.transitionDelay = `${i * 0.03}s`; el.appendChild(span);
                });
            });
        };
        document.querySelectorAll('.method-row').forEach(row => {
            row.addEventListener('mouseenter', () => { row.querySelectorAll('.char').forEach(c => c.style.transform = 'translateX(20px)'); });
            row.addEventListener('mouseleave', () => { row.querySelectorAll('.char').forEach(c => c.style.transform = 'translateX(0)'); });
        });

       // 3. OBSERVERS
        const revealObserver = new IntersectionObserver((entries) => { entries.forEach(e => { if(e.isIntersecting) e.target.classList.add('active'); }); }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => revealObserver.observe(el));
        
        const typingObserver = new IntersectionObserver((entries) => {
            entries.forEach(e => {
                if (e.isIntersecting) {
                    if (!e.target.classList.contains('typing-active')) {
                        e.target.classList.add('typing-active');
                        const text = e.target.getAttribute('data-text'); 
                        e.target.innerText = "";
                        let i = 0; 
                        function type() { 
                            if(i < text.length && e.target.classList.contains('typing-active')) { 
                                e.target.innerText += text.charAt(i); 
                                i++; 
                                setTimeout(type, 50); 
                            } 
                        } 
                        type();
                    }
                } else {
                    e.target.classList.remove('typing-active');
                    e.target.innerText = ""; 
                }
            });
        }, { threshold: 0.5 });
        document.querySelectorAll('.typing-target').forEach(el => typingObserver.observe(el));

        // 4. MODAL LOGIC
        const boardPage = document.getElementById('boardPage');
        const boardTitle = document.querySelector('.board-title');
        const viewStd = document.getElementById('mode-standard');
        const viewInt = document.getElementById('mode-interpret');
        const viewDes = document.getElementById('mode-design');

        function openBoard(mode) {
            boardPage.style.display = 'block';
            setTimeout(() => boardPage.classList.add('show'), 10);
            document.body.style.overflow = 'hidden';

            viewStd.style.display = 'none';
            viewInt.style.display = 'none';
            viewDes.style.display = 'none';

            if (mode === 'interpret') {
                boardTitle.innerText = 'INTERPRETATION : MONAMI';
                viewInt.style.display = 'flex';
            } else {
                boardTitle.innerText = 'STORY BOARD';
                viewStd.style.display = 'flex';
            }
        }

        function closeBoard() {
            boardPage.classList.remove('show');
            setTimeout(() => { boardPage.style.display = 'none'; document.body.style.overflow = 'auto'; }, 500);
        }

        let selectedData = null;
        function selectCard(el, key) {
            document.querySelectorAll('.opt-card').forEach(c => c.classList.remove('selected'));
            el.classList.add('selected');
            document.querySelector('.btn-next-step').classList.add('active');
            
            const dataMap = {
                'opt1': { title:'Low-pressure Record Tool', mood:'Silence, Relief', mat:'Recycled Paper (80g)', col:'#F0F0F0, #222', form:'A6 Mini Notebook', method:'Exposed Spine Binding' },
                'opt2': { title:'Non-writing Memory Object', mood:'Abstract, Time', mat:'Aluminum, Stone', col:'#Silver, #Gray', form:'Desk Object', method:'CNC Milling' },
                'opt3': { title:'Shared Writing Object', mood:'Community, Warmth', mat:'Wood, Fabric', col:'#Beige, #Brown', form:'Large Rolling Paper', method:'Handcraft Finishing' },
                'opt4': { title:'Presence Object', mood:'Solid, Calm', mat:'Concrete, Brass', col:'#Dark Gray, #Gold', form:'Geometric Cube', method:'Casting' },
                'opt5': { title:'Pen, But Re-defined', mood:'Classic, Modern', mat:'Bio-Plastic', col:'#Monami Black, #White', form:'Hexagonal Pen', method:'Injection Molding' }
            };
            selectedData = dataMap[key] || dataMap['opt1'];
        }

        function goToDesign() {
            viewInt.style.display = 'none';
            viewDes.style.display = 'flex';
            boardTitle.innerText = 'DESIGN DIRECTION';
            
            if(selectedData) {
                document.getElementById('dTitle').innerText = selectedData.title;
                document.getElementById('dMood').innerText = selectedData.mood;
                document.getElementById('dMat').innerText = selectedData.mat;
                document.getElementById('dColor').innerText = selectedData.col;
                document.getElementById('dForm').innerText = selectedData.form;
                document.getElementById('dMethod').innerText = selectedData.method;
                
                const tags = ['Concept', 'Materiality', 'Structure'];
                const tagContainer = document.getElementById('dTags');
                tagContainer.innerHTML = '';
                tags.forEach(t => tagContainer.innerHTML += `<span class="d-tag">${t}</span>`);
            }
        }

       // 5. CANVAS LOGIC
        const canvasWrapper = document.getElementById('canvasWrapper');
        const canvas = document.getElementById('canvas');
        const wordInput = document.getElementById('wordInput');
        let scale = 1, translateX = 0, translateY = 0, chips = [];
        
        canvasWrapper.addEventListener('wheel', (e) => {
            e.preventDefault();
            scale += e.deltaY * -0.001; 
            scale = Math.min(Math.max(0.5, scale), 3);
            canvas.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`; 
        });

        wordInput.addEventListener('keypress', (e) => { if(e.key === 'Enter' && wordInput.value.trim() !== "") { addChip(wordInput.value.trim()); wordInput.value = ""; } });
        function addChip(text) {
            const chip = document.createElement('div'); chip.className = 'word-chip'; chip.innerText = text;
            chip.style.left = (canvasWrapper.offsetWidth/2 + (Math.random()-0.5)*200) + 'px';
            chip.style.top = (canvasWrapper.offsetHeight/2 + (Math.random()-0.5)*150) + 'px';
            let isDrag = false, dx, dy, il, it;
            chip.addEventListener('mousedown', (e) => { isDrag = true; dx=e.clientX; dy=e.clientY; il=parseFloat(chip.style.left); it=parseFloat(chip.style.top); });
            window.addEventListener('mousemove', (e) => { if(isDrag) { chip.style.left = (il + (e.clientX-dx)/scale) + 'px'; chip.style.top = (it + (e.clientY-dy)/scale) + 'px'; } });
            window.addEventListener('mouseup', () => isDrag = false);
            canvas.appendChild(chip); chips.push(chip);
        }

       // 6. THREE.JS
        (function() {
            const container = document.getElementById('canvas-container'); if(!container) return;
            
            const scene = new THREE.Scene(); 
            scene.background = new THREE.Color(0xffffff); 
            scene.fog = new THREE.FogExp2(0xffffff, 0.002);
            
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000); 
            camera.position.z = 180;

            const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight); 
            renderer.setPixelRatio(window.devicePixelRatio); 
            renderer.toneMapping = THREE.ACESFilmicToneMapping; 
            renderer.outputEncoding = THREE.sRGBEncoding;
            container.appendChild(renderer.domElement);

            function createCrispTexture() {
                const size = 128; 
                const canvas = document.createElement('canvas');
                canvas.width = size; canvas.height = size;
                const ctx = canvas.getContext('2d');
                ctx.clearRect(0, 0, size, size);
                
                const grad = ctx.createRadialGradient(size/2, size/2, 0, size/2, size/2, size/2);
                grad.addColorStop(0, 'rgba(0,0,0,1)');     
                grad.addColorStop(0.2, 'rgba(10,10,10,0.8)');
                grad.addColorStop(0.5, 'rgba(30,30,30,0.2)'); 
                grad.addColorStop(1, 'rgba(0,0,0,0)');
                
                ctx.fillStyle = grad;
                ctx.fillRect(0, 0, size, size);
                return new THREE.CanvasTexture(canvas);
            }

            const coreGroup = new THREE.Group(); 
            scene.add(coreGroup);
            
            const coreGeo = new THREE.IcosahedronGeometry(3.8, 5); 
            const coreMat = new THREE.MeshBasicMaterial({ 
                color: 0x000000,
                wireframe: true,    
                transparent: true, 
                opacity: 0.3,
            });
            const coreMesh = new THREE.Mesh(coreGeo, coreMat); 
            coreGroup.add(coreMesh);

            const outerGeo = new THREE.IcosahedronGeometry(5.0, 2);
            const outerMat = new THREE.MeshBasicMaterial({ color: 0x555555, wireframe: true, transparent: true, opacity: 0.1 });
            const outerMesh = new THREE.Mesh(outerGeo, outerMat);
            coreGroup.add(outerMesh);

            const pGeo = new THREE.BufferGeometry(); 
            const pCount = 28000; 
            const pPos = new Float32Array(pCount*3); 
            const originalPos = [];
            const randoms = [];

            for(let i=0; i<pCount*3; i+=3) {
                const r = 20 + 85 * Math.pow(Math.random(), 1.2); 
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.acos(2 * Math.random() - 1);
                
                const x = r * Math.sin(phi) * Math.cos(theta);
                const y = r * Math.sin(phi) * Math.sin(theta);
                const z = r * Math.cos(phi);
                
                pPos[i] = x; pPos[i+1] = y; pPos[i+2] = z;
                originalPos.push({x, y, z});
                
                randoms.push({
                    speed: 0.1 + Math.random() * 0.4, 
                    phase: Math.random() * Math.PI * 2,
                    amp: 1.5 + Math.random() * 3.0 
                });
            }
            pGeo.setAttribute('position', new THREE.BufferAttribute(pPos, 3));

            const pMat = new THREE.PointsMaterial({ 
                size: 1.2,          
                color: 0x111111,    
                map: createCrispTexture(), 
                transparent: true, 
                opacity: 0.85,      
                sizeAttenuation: true, 
                depthWrite: false, 
                blending: THREE.NormalBlending 
            });
            const pMesh = new THREE.Points(pGeo, pMat); 
            scene.add(pMesh);

            const ambientLight = new THREE.AmbientLight(0xffffff, 1.5); scene.add(ambientLight);
            const dirLight = new THREE.DirectionalLight(0xffffff, 2);
            dirLight.position.set(50, 50, 50);
            scene.add(dirLight);

            const composer = new THREE.EffectComposer(renderer); 
            composer.addPass(new THREE.RenderPass(scene, camera));
            const bloom = new THREE.UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 0.1, 0.5, 0.98); 
            composer.addPass(bloom);

            let time = 0;
            let mouseX = 0, mouseY = 0;
            const wHalfX = window.innerWidth/2; const wHalfY = window.innerHeight/2;
            document.addEventListener('mousemove', (e) => { mouseX = (e.clientX - wHalfX) * 0.05; mouseY = (e.clientY - wHalfY) * 0.05; });

            function animate() {
                requestAnimationFrame(animate); 
                time += 0.0008; 

                const positions = pGeo.attributes.position.array;
                
                for(let i=0; i<pCount; i++) {
                    const i3 = i*3; const o = originalPos[i]; const r = randoms[i];
                    const wave = Math.sin(time * r.speed + r.phase) * r.amp;
                    positions[i3]     = o.x + Math.cos(time * 0.5 + r.phase) * 1.5;
                    positions[i3 + 1] = o.y + Math.sin(time * 0.3 + r.phase) * 1.5 + wave;
                    positions[i3 + 2] = o.z + wave;
                }
                pGeo.attributes.position.needsUpdate = true;

                const targetRotX = mouseY * 0.00005; 
                const targetRotY = mouseX * 0.00005;
                pMesh.rotation.y += 0.0001 + targetRotY; 
                pMesh.rotation.x += targetRotX;
                
                coreGroup.rotation.y -= 0.0005; 
                coreGroup.rotation.x += 0.0002;

                composer.render();
            }
            animate();
            window.addEventListener('resize', ()=>{ camera.aspect = window.innerWidth/window.innerHeight; camera.updateProjectionMatrix(); renderer.setSize(window.innerWidth, window.innerHeight); composer.setSize(window.innerWidth, window.innerHeight); });
        })();
        
        function scrollToId(id) { closeBoard(); document.getElementById(id).scrollIntoView({behavior:'smooth'}); }
        function toggleLanguage() { const btn=document.getElementById('langBtn'); btn.innerText = btn.innerText==='KO'?'EN':'KO'; }
    </script>
</body>
</html>
